import matplotlib.pyplot as plt
import numpy as np

# 全局设置字体大小
plt.rcParams.update({
    'xtick.labelsize':55,  # 设置xticks字体大小
    'ytick.labelsize':55,  # 设置yticks字体大小
    'axes.labelsize':65,   # 设置xlabel和ylabel字体大小
    'font.family': 'Arial',
})

# 输入的三个列表
list1 = [0.3897611698544503, 0.30695925071857105, 0.45062155114764935, 0.32049843606701306, 0.709533379477819, 0.6715801597409181, 0.5878215788527581, 0.5510301668038137, 0.6715801597409181, 0.25657967859986847, 0.25657967859986847, 0.25657967859986847, 0.5433284501485695, 0.5719468667583636, 0.30932552789744194, 0.6166282555334789, 0.4213457975226771, 0.2655692506962367, 0.9169363538295578, 1.0, 0.7509256885698823, 0.3715114897584536, 0.3759715893862235, 0.25657967859986847, 0.3390169545855316, 0.3390169545855316, 0.42228849086040493, 0.39818155338421524, 0.4553515290444681, 0.5327292381055821, 0.4353018394945804]
     # 6.7b
list2 = [0.2535802122251992, 0.2530574368254109, 0.8340169673008813, 0.8340169673008813, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.2530574368254109, 0.2530574368254109, 0.833625730994152, 0.7508370599701869, 0.6061811896888174, 0.3574853720743284, 0.3271223142444706, 0.33642970913541625, 0.2530574368254109, 1.0, 0.335999533852015, 0.5107992950271059, 0.5415169856399209, 0.3360983724979255, 1.0, 0.2530574368254109, 0.3295055179309666, 0.3183833974117365, 0.2530574368254109, 0.2530574368254109, 0.32986519839344897, 0.2977806430037255, 0.7508370599701869, 0.41904046952452956, 0.41904046952452956, 0.2530574368254109, 0.4151753839098631, 0.3525709613553733, 0.37270348837646883]
        # 13b
list3 = [0.3470627768575536, 0.2512607734599127, 0.2512607734599127, 0.5571094286947365, 0.323574786922628, 0.27885933976815647, 0.5263236868884087, 0.7237104927142881, 0.4283073073564312, 0.3155720387770068, 0.2512607734599127, 1.0, 1.0, 0.2512607734599127, 0.2512607734599127, 1.0, 1.0, 1.0, 0.2512607734599127, 0.2512607734599127, 0.8338177951081177, 0.3167022376110543, 0.6296464969886182, 0.3896021505633629, 0.5266826870242147, 0.40931227976338125, 0.4040438362162637, 0.2512607734599127, 0.2512607734599127, 0.3643484653163007, 0.50903994877294, 0.5424112055282175, 0.7817535952178308, 0.9169719169719168, 1.0, 1.0, 0.5839985297143202, 0.5839985297143202, 0.7508421155659145, 0.7178055141018104, 0.6675879212006091, 0.2669487891479284, 0.4562791113960867, 0.49848293947304373, 0.2512607734599127, 0.2512607734599127, 0.5137355198461476]

# 组别标签
labels = ['OPT-6.7B', 'OPT-13B', 'OPT-30B']

# 计算每个组的位置
x = np.arange(len(labels)) *1.5  # 给组之间留出空间
x[1] = x[1] * 0.9

# 设置柱子的宽度
width = 0.04

# 创建一个自定义大小的画布，符合你给出的宽高比
plt.figure(figsize=(32, 6))

# 绘制第一个列表的柱状图
for i, val in enumerate(list1):
    plt.bar(x[0] + i * width, val, width*0.9, color='#BDD7EE', edgecolor='black', label='List 1' if i == 0 else "")

# 绘制第二个列表的柱状图
for i, val in enumerate(list2):
    plt.bar(x[1] + i * width, val, width*0.9, color='#C5E0B4', edgecolor='black', label='List 2' if i == 0 else "")

# 绘制第三个列表的柱状图
for i, val in enumerate(list3):
    plt.bar(x[2] + i * width, val, width*0.9, color='#F8CBAD', edgecolor='black', label='List 3' if i == 0 else "")



# 添加四边框

ax = plt.gca()  # 获取当前的Axes对象
for spine in ax.spines.values():
    spine.set_linewidth(7)  # 设置边框线宽，2可以调整为你想要的宽度
ax.tick_params(axis='x', pad=15)  # 调整x轴数字与坐标轴的距离，10可以调整为你想要的值
ax.tick_params(axis='y', pad=15)  # 调整y轴数字与坐标轴的距离

# 设置图形的横坐标和纵坐标名称
# plt.xlabel('Group')
plt.ylabel('Similarity')

# 设置x轴刻度为每组的标签
plt.xticks(x, labels)
# 设置x轴刻度为每组的标签，位置为每组柱子的中间
print(min([list1, list2, list3], key=len))
x[1] = x[1]*1.1
x[2] = x[2]*1.15
plt.xticks(x + (len(min([list1, list2, list3], key=len)) - 1) * width / 2, labels)
plt.yticks([0, 0.5, 1.0], [0, 0.5, 1.0])

# 显示图例
# plt.legend()

plt.tight_layout()
plt.savefig('sim-25.pdf')
plt.close()
