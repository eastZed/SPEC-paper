import matplotlib.pyplot as plt
import numpy as np

# 全局设置字体大小
plt.rcParams.update({
    'xtick.labelsize':55,  # 设置xticks字体大小
    'ytick.labelsize':55,  # 设置yticks字体大小
    'axes.labelsize':65,   # 设置xlabel和ylabel字体大小
    'font.family': 'Arial',
})

# 输入的三个列表
list1 = [0.49690854082429187, 0.5534885227145289, 0.5592670440314236, 0.8215597310588797, 0.40597299131501763, 0.4714425240087496, 0.25186327792814045, 0.2905850889460988, 0.3542829178375767, 0.3581437771077831, 0.42567460274493, 0.49573706147752755, 0.6012559905181185, 0.6337350112060418, 0.5711884323510144, 0.45299021095844577, 0.48548936420396277, 0.36541296472330953, 0.391951649027894, 0.3350460196464666, 0.5119120020103579, 0.4575176785332342, 0.41058483073401075, 0.4609196872534766, 0.484141098635455, 0.5220085451432603, 0.5080193008314106, 0.5036528967390435, 0.5274882464424948, 0.5787823019707078, 0.5336780977246823]
     # 6.7b
list2 = [0.2535802122251992, 0.7938865644138008, 0.1989003114633149, 0.2785786084065696, 0.45076272181777544, 0.5922633279329476, 0.5463308622155136, 0.5414319175178045, 0.6053209135516923, 0.3544688998710164, 0.38371284264831695, 0.2899101964391288, 0.3140568470175092, 0.4717207287074314, 0.4435389405650329, 0.4506363816316582, 0.43612875498433273, 0.4622938970453094, 0.511999994244621, 0.4088590049911488, 0.3512461722968962, 0.5405556106989144, 0.5733347129512131, 0.4604321237655192, 0.37926848187717754, 0.3740713130798248, 0.44898682152484093, 0.4843230960859313, 0.45388131062097664, 0.42725721572722797, 0.34185333583020217, 0.3908034455761973, 0.43764652921174974, 0.3933723629684478, 0.5068370629447234, 0.40338593681127743, 0.39090662049920255, 0.4930226714519399, 0.5227637499272426]
        # 13b
list3 = [0.3470627768575536, 0.4420614715063079, 0.6583168593524508, 0.5571094286947365, 0.7993988787557504, 0.49445779552007946, 0.5263236868884087, 0.7465228587993814, 0.6457799145068109, 0.532054848877947, 0.49986541973104814, 0.32200399874357544, 0.4619286392251882, 0.30573887499931246, 0.32679165285463235, 0.34385484489560675, 0.2938442234952921, 0.4823164205447374, 0.3705432363708225, 0.48383129301189837, 0.5199907247798408, 0.549881690475968, 0.6349899321319262, 0.43126482455145304, 0.4680345094902405, 0.539415219965469, 0.49330361714646614, 0.39665123009888625, 0.3751784639496949, 0.44464666436650024, 0.5067979716130406, 0.45679498533417323, 0.5229447999041955, 0.44363729963422965, 0.419241703415406, 0.47860145739070986, 0.4705531611810859, 0.4152109185624624, 0.4201706473425771, 0.48322715053245524, 0.4877844468787369, 0.4036316428774296, 0.4646421125633886, 0.5028142916019976, 0.44352589931658865, 0.5206190202309334, 0.49340837354922673]

# 组别标签
labels = ['OPT-6.7B', 'OPT-13B', 'OPT-30B']

# 计算每个组的位置
x = np.arange(len(labels)) *1.5  # 给组之间留出空间
x[1] = x[1] * 0.9

# 设置柱子的宽度
width = 0.04

# 创建一个自定义大小的画布，符合你给出的宽高比
plt.figure(figsize=(32, 6))

# 绘制第一个列表的柱状图
for i, val in enumerate(list1):
    plt.bar(x[0] + i * width, val, width*0.9, color='#BDD7EE', edgecolor='black', label='List 1' if i == 0 else "")

# 绘制第二个列表的柱状图
for i, val in enumerate(list2):
    plt.bar(x[1] + i * width, val, width*0.9, color='#C5E0B4', edgecolor='black', label='List 2' if i == 0 else "")

# 绘制第三个列表的柱状图
for i, val in enumerate(list3):
    plt.bar(x[2] + i * width, val, width*0.9, color='#F8CBAD', edgecolor='black', label='List 3' if i == 0 else "")



# 添加四边框

ax = plt.gca()  # 获取当前的Axes对象
for spine in ax.spines.values():
    spine.set_linewidth(7)  # 设置边框线宽，2可以调整为你想要的宽度
ax.tick_params(axis='x', pad=15)  # 调整x轴数字与坐标轴的距离，10可以调整为你想要的值
ax.tick_params(axis='y', pad=15)  # 调整y轴数字与坐标轴的距离

# 设置图形的横坐标和纵坐标名称
# plt.xlabel('Group')
plt.ylabel('Similarity')

# 设置x轴刻度为每组的标签
plt.xticks(x, labels)
# 设置x轴刻度为每组的标签，位置为每组柱子的中间
print(min([list1, list2, list3], key=len))
x[1] = x[1]*1.1
x[2] = x[2]*1.15
plt.xticks(x + (len(min([list1, list2, list3], key=len)) - 1) * width / 2, labels)
plt.yticks([0, 0.5, 1.0], [0, 0.5, 1.0])

# 显示图例
# plt.legend()

plt.tight_layout()
plt.savefig('sim-25.pdf')
plt.close()
