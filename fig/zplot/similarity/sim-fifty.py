import matplotlib.pyplot as plt
import numpy as np

# 全局设置字体大小
plt.rcParams.update({
    'xtick.labelsize':55,  # 设置xticks字体大小
    'ytick.labelsize':55,  # 设置yticks字体大小
    'axes.labelsize':65,   # 设置xlabel和ylabel字体大小
    'font.family': 'Arial',
})

# 输入的三个列表
list1 = [0.9903356481481482, 0.991232638888889, 0.9885416666666669, 0.9896990740740742, 0.9887731481481483, 0.9876446759259262, 0.9878472222222223, 0.9867187500000002, 0.9868055555555557, 0.9864293981481485, 0.9874710648148151, 0.9866608796296299, 0.9863425925925928, 0.986226851851852, 0.9861400462962966, 0.9863425925925928, 0.9867187500000002, 0.9875289351851854, 0.9865451388888891, 0.986516203703704, 0.9872685185185187, 0.986979166666667, 0.9863136574074076, 0.9868344907407409, 0.986689814814815, 0.9874710648148151, 0.9873263888888891, 0.9869212962962964, 0.9869791666666669, 0.9868634259259261, 0.9862847222222224, 0.9864872685185186]
     # 6.7b
list2 = [0.9892962962962963, 0.9966851851851851, 0.9978888888888889, 0.9965925925925927, 0.990925925925926, 0.9874814814814815, 0.9865185185185186, 0.9874259259259258, 0.9862407407407409, 0.9874444444444446, 0.9883518518518519, 0.987111111111111, 0.9862222222222223, 0.9864074074074075, 0.9861666666666667, 0.9862592592592594, 0.9867037037037037, 0.9866666666666668, 0.9864444444444446, 0.986814814814815, 0.9867777777777778, 0.9873703703703706, 0.9866851851851854, 0.9876111111111112, 0.987314814814815, 0.9877407407407409, 0.9867037037037037, 0.986425925925926, 0.9865925925925927, 0.986925925925926, 0.9864814814814815, 0.9859074074074076, 0.9859814814814817, 0.9860555555555557, 0.9860925925925926, 0.9865, 0.9860000000000002, 0.9864814814814815, 0.9860185185185186, 0.9859444444444446]
        # 13b
list3 = [0.989644746787604, 0.9910525321239607, 0.9962112622826909, 0.998469387755102, 0.9989795918367346, 0.9984788359788359, 0.998469387755102, 0.9970804988662133, 0.9975056689342404, 0.9961734693877551, 0.9949452003023433, 0.9933295540438398, 0.9898904006046864, 0.9883975812547242, 0.9881897203325777, 0.9896164021164021, 0.9885676492819352, 0.9872921390778534, 0.986148904006047, 0.9866969009826154, 0.9863851095993954, 0.9862811791383221, 0.9861866969009826, 0.9862055933484507, 0.9858938019652306, 0.9875566893424037, 0.986744142101285, 0.9866969009826153, 0.987991307634165, 0.9867913832199547, 0.9871598639455783, 0.9867157974300833, 0.9866780045351475, 0.9871031746031746, 0.9866874527588815, 0.9877834467120181, 0.9864795918367348, 0.9865835222978082, 0.9864134542705973, 0.986309523809524, 0.9862055933484505, 0.9864040060468633, 0.9863284202569916, 0.9863378684807258, 0.9864040060468634, 0.9866213151927439, 0.9866213151927439, 0.9861961451247168]
   # 30b

# 组别标签
labels = ['OPT-1.3B', 'OPT-6.7B', 'OPT-30B']

# 计算每个组的位置
x = np.arange(len(labels)) *1.5  # 给组之间留出空间
x[1] = x[1] * 0.9

# 设置柱子的宽度
width = 0.04

# 创建一个自定义大小的画布，符合你给出的宽高比
plt.figure(figsize=(32, 6))

# 绘制第一个列表的柱状图
for i, val in enumerate(list1):
    plt.bar(x[0] + i * width, val, width*0.9, color='#BDD7EE', edgecolor='black', label='List 1' if i == 0 else "")

# 绘制第二个列表的柱状图
for i, val in enumerate(list2):
    plt.bar(x[1] + i * width, val, width*0.9, color='#C5E0B4', edgecolor='black', label='List 2' if i == 0 else "")

# 绘制第三个列表的柱状图
for i, val in enumerate(list3):
    plt.bar(x[2] + i * width, val, width*0.9, color='#F8CBAD', edgecolor='black', label='List 3' if i == 0 else "")



# 添加四边框

ax = plt.gca()  # 获取当前的Axes对象
for spine in ax.spines.values():
    spine.set_linewidth(7)  # 设置边框线宽，2可以调整为你想要的宽度
ax.tick_params(axis='x', pad=15)  # 调整x轴数字与坐标轴的距离，10可以调整为你想要的值
ax.tick_params(axis='y', pad=15)  # 调整y轴数字与坐标轴的距离

# 设置图形的横坐标和纵坐标名称
# plt.xlabel('Group')
plt.ylabel('Similarity')

# 设置x轴刻度为每组的标签
plt.xticks(x, labels)
plt.yticks([0.5, 0.75, 1.0], [0.5, 0.75, 1.0])
# 设置x轴刻度为每组的标签，位置为每组柱子的中间
print(min([list1, list2, list3], key=len))
x[1] = x[1]*1.1
x[2] = x[2]*1.15
plt.xticks(x + (len(min([list1, list2, list3], key=len)) - 1) * width / 2, labels)


# 显示图例
# plt.legend()

plt.tight_layout()
plt.savefig('sim-fifty.pdf')
plt.close()
