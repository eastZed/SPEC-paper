import matplotlib.pyplot as plt
import numpy as np

# 全局设置字体大小
plt.rcParams.update({
    'xtick.labelsize':55,  # 设置xticks字体大小
    'ytick.labelsize':55,  # 设置yticks字体大小
    'axes.labelsize':65,   # 设置xlabel和ylabel字体大小
    'font.family': 'Arial',
})

# 输入的三个列表
list1 = [0.7160736388733158, 0.6225938382821038, 0.5680436820126189, 0.5261658382427241, 0.5381734135227555, 0.535552075370908, 0.4845757004572202, 0.4825844705240461, 0.5440345508444386, 0.5696952057965848, 0.5354131030886427, 0.4542792449444526, 0.4459449582882087, 0.35534841989822635, 0.257464463654558, 0.2223032727872114, 0.21306359977970185, 0.22153427853296476, 0.20928247679811546, 0.215259110936377, 0.22132144191862935, 0.2116936002012577, 0.1971683978535569, 0.20677809032114003, 0.2020988480971216, 0.2047764583827359, 0.19009633064925985, 0.19698707814907196, 0.19239907830088146, 0.19649743830137895, 0.18221156589864806, 0.1815685201933549]
     # 6.7b
list2 = [0.6184392128727129, 0.8129227478838468, 0.7581008582589392, 0.66659827969383, 0.558695662424566, 0.5583404809087581, 0.5469898609361351, 0.5872047358748711, 0.581789928262609, 0.6317548949741042, 0.668238674305126, 0.6221003128837814, 0.6266457543941713, 0.6002488108954046, 0.5697444759931831, 0.5223634616189169, 0.4611480011892074, 0.37277471690410446, 0.30287247424420566, 0.2532148379029775, 0.25842936195069, 0.2115929389922259, 0.207667938917644, 0.19815220941610176, 0.19821354541446845, 0.21452394393972857, 0.20754506050485255, 0.21448963278239408, 0.22408145872353089, 0.2281469154117758, 0.23925523345129612, 0.21810457879358613, 0.20700184424718937, 0.200946049384976, 0.21758458278748974, 0.20522035845301023, 0.17162716906977837, 0.1920817539427218, 0.17749573221853346, 0.19401153173986252]
         # 13b
list3 = [0.609103829007642, 0.8825935878003244, 0.8583268963043341, 0.8841057249612064, 0.9038608647653598, 0.8934147983363393, 0.8585754513687665, 0.8412216214109441, 0.8304150963005853, 0.8116845196473822, 0.7112398118081126, 0.7054286278794929, 0.5976517639645563, 0.648027081705719, 0.6222909821444919, 0.6426467367593842, 0.6289345863383005, 0.6487823531267845, 0.6133457149183685, 0.6327136989432436, 0.5972192762569777, 0.583251045951662, 0.5325663282276999, 0.47615857849238785, 0.4411297746138187, 0.39567325857499586, 0.34277088306863246, 0.2706054280558061, 0.2814297361751325, 0.23484619351198283, 0.24497148949293787, 0.23656760817372252, 0.2278368078607253, 0.22474545362500847, 0.20776014687418928, 0.2243881681895107, 0.21974340404897688, 0.20637627929043836, 0.216493971815455, 0.22762715270143113, 0.23547362760269458, 0.21713225516178053, 0.21760166534122452, 0.22236865764674502, 0.20140899989300262, 0.21303641475727975, 0.20775786282854178, 0.2055315182760365]
   # 30b

# 组别标签
labels = ['OPT-6.7B', 'OPT-13B', 'OPT-30B']

# 计算每个组的位置
x = np.arange(len(labels)) *1.5  # 给组之间留出空间
x[1] = x[1] * 0.9

# 设置柱子的宽度
width = 0.04

# 创建一个自定义大小的画布，符合你给出的宽高比
plt.figure(figsize=(32, 6))

# 绘制第一个列表的柱状图
for i, val in enumerate(list1):
    plt.bar(x[0] + i * width, val, width*0.9, color='#BDD7EE', edgecolor='black', label='List 1' if i == 0 else "")

# 绘制第二个列表的柱状图
for i, val in enumerate(list2):
    plt.bar(x[1] + i * width, val, width*0.9, color='#C5E0B4', edgecolor='black', label='List 2' if i == 0 else "")

# 绘制第三个列表的柱状图
for i, val in enumerate(list3):
    plt.bar(x[2] + i * width, val, width*0.9, color='#F8CBAD', edgecolor='black', label='List 3' if i == 0 else "")



# 添加四边框

ax = plt.gca()  # 获取当前的Axes对象
for spine in ax.spines.values():
    spine.set_linewidth(7)  # 设置边框线宽，2可以调整为你想要的宽度
ax.tick_params(axis='x', pad=15)  # 调整x轴数字与坐标轴的距离，10可以调整为你想要的值
ax.tick_params(axis='y', pad=15)  # 调整y轴数字与坐标轴的距离

# 设置图形的横坐标和纵坐标名称
# plt.xlabel('Group')
plt.ylabel('Similarity')

# 设置x轴刻度为每组的标签
plt.xticks(x, labels)
# 设置x轴刻度为每组的标签，位置为每组柱子的中间
print(min([list1, list2, list3], key=len))
x[1] = x[1]*1.1
x[2] = x[2]*1.15
plt.xticks(x + (len(min([list1, list2, list3], key=len)) - 1) * width / 2, labels)
plt.yticks([0, 0.5, 1.0], [0, 0.5, 1.0])

# 显示图例
# plt.legend()

plt.tight_layout()
plt.savefig('sim-ten.pdf')
plt.close()
