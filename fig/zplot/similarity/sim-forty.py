import matplotlib.pyplot as plt
import numpy as np

# 全局设置字体大小
plt.rcParams.update({
    'xtick.labelsize':55,  # 设置xticks字体大小
    'ytick.labelsize':55,  # 设置yticks字体大小
    'axes.labelsize':65,   # 设置xlabel和ylabel字体大小
    'font.family': 'Arial',
})

# 输入的三个列表
list1 = [0.8455948260312829, 0.8048928098597339, 0.7827211605773748, 0.756954344052269, 0.7013280760420062, 0.6629061384051355, 0.6644755099625735, 0.6355568504008527, 0.62827607042539, 0.6273426881915485, 0.6310574136032598, 0.6263289916978396, 0.6180831233925519, 0.5968441972166179, 0.5883009513520836, 0.5947117042522598, 0.6068311519684879, 0.5921749381910083, 0.5967320937007987, 0.6111705740659508, 0.6166078253359045, 0.6138786556016349, 0.5972304541611805, 0.5937152642201917, 0.6103819269677032, 0.6185773166167701, 0.6018878575009627, 0.615017475860689, 0.6042374786422426, 0.6078455042031057, 0.587328263471365, 0.576533121074196]
     # 6.7b
list2 = [0.7822928481300673, 0.9307816395605073, 0.8451992709616539, 0.7608690925509899, 0.6807484354589454, 0.6627215750677806, 0.6423607468448952, 0.6314164795280631, 0.6465367011091965, 0.7033923216298621, 0.7278299051173412, 0.6606538133465198, 0.6545035886527399, 0.644928233966982, 0.6372423258354353, 0.6419109351613593, 0.6515821042356796, 0.6109801656337004, 0.6149313415324749, 0.5856730230683102, 0.6107853307417008, 0.6032898632645005, 0.5979789026898019, 0.5783845423286764, 0.5910734918979021, 0.6128789396065835, 0.6137714138271109, 0.6152937625260401, 0.6116116332729599, 0.6314977142709488, 0.6209600607629258, 0.6012294450386874, 0.6000317433431698, 0.6014799188182363, 0.6068668049520781, 0.5996901789975941, 0.5927178379946304, 0.590781942129809, 0.5745206855916181, 0.5913458774271487]
         # 13b
list3 = [0.7960127557294123, 0.9496258431003894, 0.9586388529026322, 0.9493185266945438, 0.9481111473738915, 0.9214066354882192, 0.9069090808390887, 0.8293837970588265, 0.8278859975537481, 0.8081617171671684, 0.7643122794326042, 0.7400772735184686, 0.7082288433527627, 0.6958948397874601, 0.6779890077453382, 0.6550082536997854, 0.6850296507441813, 0.6810620608231346, 0.6419206628713636, 0.6701956387495709, 0.6438533346727224, 0.6233861431498648, 0.60438566131098, 0.6112647000328684, 0.6062386329277389, 0.6012633518180102, 0.597633902239803, 0.5889104616212995, 0.6013779065904854, 0.6013117322185237, 0.6050434852919303, 0.6050036566252964, 0.6130234899121538, 0.6098586405587354, 0.6094538548907962, 0.6125512392980198, 0.5892168815267452, 0.5950867144551356, 0.5913968165435384, 0.6075693550510761, 0.6233015271980611, 0.5918601962638089, 0.5918042271296505, 0.593865146099726, 0.5871583016935003, 0.6066757758604321, 0.5839408255018018, 0.6003480242054898]
   # 30b

# 组别标签
labels = ['OPT-6.7B', 'OPT-13B', 'OPT-30B']

# 计算每个组的位置
x = np.arange(len(labels)) *1.5  # 给组之间留出空间
x[1] = x[1] * 0.9

# 设置柱子的宽度
width = 0.04

# 创建一个自定义大小的画布，符合你给出的宽高比
plt.figure(figsize=(32, 6))

# 绘制第一个列表的柱状图
for i, val in enumerate(list1):
    plt.bar(x[0] + i * width, val, width*0.9, color='#BDD7EE', edgecolor='black', label='List 1' if i == 0 else "")

# 绘制第二个列表的柱状图
for i, val in enumerate(list2):
    plt.bar(x[1] + i * width, val, width*0.9, color='#C5E0B4', edgecolor='black', label='List 2' if i == 0 else "")

# 绘制第三个列表的柱状图
for i, val in enumerate(list3):
    plt.bar(x[2] + i * width, val, width*0.9, color='#F8CBAD', edgecolor='black', label='List 3' if i == 0 else "")



# 添加四边框

ax = plt.gca()  # 获取当前的Axes对象
for spine in ax.spines.values():
    spine.set_linewidth(7)  # 设置边框线宽，2可以调整为你想要的宽度
ax.tick_params(axis='x', pad=15)  # 调整x轴数字与坐标轴的距离，10可以调整为你想要的值
ax.tick_params(axis='y', pad=15)  # 调整y轴数字与坐标轴的距离

# 设置图形的横坐标和纵坐标名称
# plt.xlabel('Group')
plt.ylabel('Similarity')

# 设置x轴刻度为每组的标签
plt.xticks(x, labels)
plt.yticks([0, 0.5, 1.0], [0, 0.5, 1.0])
# 设置x轴刻度为每组的标签，位置为每组柱子的中间
print(min([list1, list2, list3], key=len))
x[1] = x[1]*1.1
x[2] = x[2]*1.15
plt.xticks(x + (len(min([list1, list2, list3], key=len)) - 1) * width / 2, labels)
# plt.yticks([0.5, 0.75, 1.0], [0.5, 0.75, 1.0])

# 显示图例
# plt.legend()

plt.tight_layout()
plt.savefig('sim-forty.pdf')
plt.close()
