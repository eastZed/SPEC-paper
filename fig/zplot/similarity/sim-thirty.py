import matplotlib.pyplot as plt
import numpy as np

# 全局设置字体大小
plt.rcParams.update({
    'xtick.labelsize':55,  # 设置xticks字体大小
    'ytick.labelsize':55,  # 设置yticks字体大小
    'axes.labelsize':65,   # 设置xlabel和ylabel字体大小
    'font.family': 'Arial',
})

# 输入的三个列表
list1 = [0.7954720234261834, 0.7513755482599571, 0.7178508505700422, 0.6469155196954657, 0.5810655118612338, 0.523925480899865, 0.5240192256149185, 0.49235694303629063, 0.4681047079474431, 0.4750425646603678, 0.4561977041678313, 0.4536029289954304, 0.4502812039992761, 0.42083329764394417, 0.41244429771790614, 0.4071735881493236, 0.41595463973278846, 0.4179777682888611, 0.41440788619462016, 0.43240274570838366, 0.42829901080918464, 0.43286821164923306, 0.40994606451681564, 0.41496033860861525, 0.4319031697491898, 0.4349691157039992, 0.4092818095893066, 0.42666991405206, 0.422133176660178, 0.423157964134696, 0.39736588963666386, 0.40180838904348143]
     # 6.7b
list2 = [0.7096311637993066, 0.907583139063953, 0.8187228084505372, 0.6884932455204512, 0.5502823588300638, 0.5225399116758492, 0.49444811662310045, 0.4842666868257932, 0.4991573601508836, 0.5576109180979391, 0.5611827362660822, 0.5009482304332032, 0.5215364736212446, 0.49360070578604737, 0.4924318948462403, 0.4969440372037589, 0.4898657741650687, 0.4531758190102647, 0.4349174540917429, 0.3980599835520182, 0.4327350343080559, 0.4132142948248807, 0.4052703737565679, 0.38607638782920634, 0.39479181536228597, 0.4174135149680495, 0.4191739092858385, 0.4237931608234525, 0.4163732671215584, 0.4514553244268884, 0.4386855146987066, 0.4186482543578242, 0.4055443525636962, 0.40896900533504493, 0.43379263684955616, 0.4265930480481511, 0.40529353063614154, 0.3995310534975581, 0.3789253418325633, 0.41364475601525]
         # 13b
list3 = [0.7215575601403185, 0.9391493880834508, 0.9326660626085369, 0.9431487169148497, 0.9552016524931217, 0.9127143810524441, 0.8653105491015017, 0.7862161493422, 0.7765309336012786, 0.7130182249472274, 0.6499973453464988, 0.6276821021535568, 0.5741957160863481, 0.5543213829762239, 0.5492951753110764, 0.5064115564241245, 0.5469387243269981, 0.5200059604070795, 0.4809963101620769, 0.5029276781467796, 0.471684861937986, 0.45937095064920325, 0.4362988072995406, 0.4402796050899336, 0.4323030025218344, 0.43226502765235447, 0.42510693179219905, 0.39885783696524457, 0.4213862439857957, 0.41330088783514163, 0.4319494802854169, 0.4263911331911544, 0.43555729369802054, 0.4368003291253131, 0.41733765165654446, 0.4296620508375855, 0.406874114223438, 0.4045288377572623, 0.4083363617021954, 0.42947109297630875, 0.4489794884606029, 0.406604117493721, 0.4002446771169605, 0.40131121264326786, 0.397273940091933, 0.4059477451956603, 0.3887483069240768, 0.4117429050673919]
   # 30b

# 组别标签
labels = ['OPT-1.3B', 'OPT-6.7B', 'OPT-30B']

# 计算每个组的位置
x = np.arange(len(labels)) *1.5  # 给组之间留出空间
x[1] = x[1] * 0.9

# 设置柱子的宽度
width = 0.04

# 创建一个自定义大小的画布，符合你给出的宽高比
plt.figure(figsize=(32, 6))

# 绘制第一个列表的柱状图
for i, val in enumerate(list1):
    plt.bar(x[0] + i * width, val, width*0.9, color='#BDD7EE', edgecolor='black', label='List 1' if i == 0 else "")

# 绘制第二个列表的柱状图
for i, val in enumerate(list2):
    plt.bar(x[1] + i * width, val, width*0.9, color='#C5E0B4', edgecolor='black', label='List 2' if i == 0 else "")

# 绘制第三个列表的柱状图
for i, val in enumerate(list3):
    plt.bar(x[2] + i * width, val, width*0.9, color='#F8CBAD', edgecolor='black', label='List 3' if i == 0 else "")



# 添加四边框

ax = plt.gca()  # 获取当前的Axes对象
for spine in ax.spines.values():
    spine.set_linewidth(7)  # 设置边框线宽，2可以调整为你想要的宽度
ax.tick_params(axis='x', pad=15)  # 调整x轴数字与坐标轴的距离，10可以调整为你想要的值
ax.tick_params(axis='y', pad=15)  # 调整y轴数字与坐标轴的距离

# 设置图形的横坐标和纵坐标名称
# plt.xlabel('Group')
plt.ylabel('Similarity')

# 设置x轴刻度为每组的标签
plt.xticks(x, labels)
# 设置x轴刻度为每组的标签，位置为每组柱子的中间
print(min([list1, list2, list3], key=len))
x[1] = x[1]*1.1
x[2] = x[2]*1.15
plt.xticks(x + (len(min([list1, list2, list3], key=len)) - 1) * width / 2, labels)
# plt.yticks([0.5, 0.75, 1.0], [0.5, 0.75, 1.0])

# 显示图例
# plt.legend()

plt.tight_layout()
plt.savefig('sim-thirty.pdf')
plt.close()
